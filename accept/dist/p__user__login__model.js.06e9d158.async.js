(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[31],{"8bIy":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPageQuery=n,t.setAuthority=o;var r=a("Qyje");function n(){return(0,r.parse)(window.location.href.split("?")[1])}function o(e){var t="string"===typeof e?[e]:e;localStorage.setItem("antd-pro-authority",JSON.stringify(t));try{window.reloadAuthorized&&window.reloadAuthorized()}catch(e){}return e}},ebWa:function(e,t,a){"use strict";var r=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a("d6i3"));a("/xke");var o=r(a("TeRw")),u=r(a("p0pE")),s=a("7DNP"),c=a("dCQc"),i=a("8bIy"),d={namespace:"userAndlogin",state:{status:void 0},effects:{phoneLogin:n.default.mark(function e(t,a){var r,d,l,f,p,g,w,b;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,d=a.call,l=a.put,e.next=4,d(c.phoneAccountLogin,r);case 4:if(f=e.sent,1!=f.status){e.next=24;break}if(p=new URL(window.location.href),g=(0,i.getPageQuery)(),w=g.redirect,!w){e.next=18;break}if(b=new URL(w),b.origin!==p.origin){e.next=16;break}w=w.substr(p.origin.length),w.match(/^\/.*#/)&&(w=w.substr(w.indexOf("#")+1)),e.next=18;break;case 16:return window.location.href=w,e.abrupt("return");case 18:return e.next=20,l({type:"changeLoginStatus",payload:f.data?(0,u.default)({rate:f.data.rate,success_order_percent:f.data.success_order_percent,token_price:f.data.token_price},f.data.accountInfo,f.data.userInfo,{walletInfo:f.data.walletInfo}):null});case 20:return e.next=22,l(s.routerRedux.replace(w||"/"));case 22:e.next=26;break;case 24:return o.default.error({message:"\u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5",description:f.msg}),e.abrupt("return");case 26:case"end":return e.stop()}},e)}),emailLogin:n.default.mark(function e(t,a){var r,d,l,f,p,g,w,b;return n.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,d=a.call,l=a.put,e.next=4,d(c.emailAccountLogin,r);case 4:if(f=e.sent,1!=f.status){e.next=24;break}if(p=new URL(window.location.href),g=(0,i.getPageQuery)(),w=g.redirect,!w){e.next=18;break}if(b=new URL(w),b.origin!==p.origin){e.next=16;break}w=w.substr(p.origin.length),w.match(/^\/.*#/)&&(w=w.substr(w.indexOf("#")+1)),e.next=18;break;case 16:return window.location.href=w,e.abrupt("return");case 18:return e.next=20,l({type:"changeLoginStatus",payload:f.data?(0,u.default)({rate:f.data.rate,success_order_percent:f.data.success_order_percent,token_price:f.data.token_price},f.data.accountInfo,f.data.userInfo,{walletInfo:f.data.walletInfo}):null});case 20:return e.next=22,l(s.routerRedux.replace(w||"/"));case 22:e.next=26;break;case 24:return o.default.error({message:"\u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5",description:f.msg}),e.abrupt("return");case 26:case"end":return e.stop()}},e)})},reducers:{changeLoginStatus:function(e,t){var a=t.payload;return(0,i.setAuthority)("admin"),g_setLocalStorage(a),(0,u.default)({},e,{status:a.status})}}},l=d;t.default=l}}]);