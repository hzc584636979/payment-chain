(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[31],{"8bIy":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPageQuery=r,t.setAuthority=o;var n=a("Qyje");function r(){return(0,n.parse)(window.location.href.split("?")[1])}function o(e){var t="string"===typeof e?[e]:e;localStorage.setItem("antd-pro-authority",JSON.stringify(t));try{window.reloadAuthorized&&window.reloadAuthorized()}catch(e){}return e}},ebWa:function(e,t,a){"use strict";var n=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("d6i3"));a("/xke");var o=n(a("TeRw")),u=n(a("p0pE")),i=a("7DNP"),s=a("dCQc"),c=a("8bIy"),l={namespace:"userAndlogin",state:{status:void 0},effects:{phoneLogin:r.default.mark(function e(t,a){var n,l,d,f,w,p,g,b;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,l=a.call,d=a.put,e.next=4,l(s.phoneAccountLogin,n);case 4:if(f=e.sent,1!=f.status){e.next=24;break}if(w=new URL(window.location.href),p=(0,c.getPageQuery)(),g=p.redirect,!g){e.next=18;break}if(b=new URL(g),b.origin!==w.origin){e.next=16;break}g=g.substr(w.origin.length),g.match(/^\/.*#/)&&(g=g.substr(g.indexOf("#")+1)),e.next=18;break;case 16:return window.location.href=g,e.abrupt("return");case 18:return e.next=20,d({type:"changeLoginStatus",payload:f.data?(0,u.default)({},f.data.accountInfo,f.data.userInfo,{gas:f.data.walletInfo[0].gas,walletInfo:f.data.walletInfo,erc20:f.data.walletInfo[0],omni:f.data.walletInfo[1]}):null});case 20:return e.next=22,d(i.routerRedux.replace(g||"/"));case 22:e.next=26;break;case 24:return o.default.error({message:"\u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5",description:f.msg}),e.abrupt("return");case 26:case"end":return e.stop()}},e)}),emailLogin:r.default.mark(function e(t,a){var n,l,d,f,w,p,g,b;return r.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.payload,l=a.call,d=a.put,e.next=4,l(s.emailAccountLogin,n);case 4:if(f=e.sent,1!=f.status){e.next=24;break}if(w=new URL(window.location.href),p=(0,c.getPageQuery)(),g=p.redirect,!g){e.next=18;break}if(b=new URL(g),b.origin!==w.origin){e.next=16;break}g=g.substr(w.origin.length),g.match(/^\/.*#/)&&(g=g.substr(g.indexOf("#")+1)),e.next=18;break;case 16:return window.location.href=g,e.abrupt("return");case 18:return e.next=20,d({type:"changeLoginStatus",payload:f.data?(0,u.default)({},f.data.accountInfo,f.data.userInfo,{walletInfo:f.data.walletInfo,erc20:f.data.walletInfo[0],omni:f.data.walletInfo[1]}):null});case 20:return e.next=22,d(i.routerRedux.replace(g||"/"));case 22:e.next=26;break;case 24:return o.default.error({message:"\u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5",description:f.msg}),e.abrupt("return");case 26:case"end":return e.stop()}},e)})},reducers:{changeLoginStatus:function(e,t){var a=t.payload;return(0,c.setAuthority)("admin"),g_setLocalStorage(a),(0,u.default)({},e,{status:a.status})}}},d=l;t.default=d}}]);